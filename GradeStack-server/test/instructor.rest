# GradeStack API - Instructor Endpoints
# ===============================

# Environment Variables
@baseUrl = http://localhost:4000/api
@instructorId = e6198855-6671-417a-88dc-6dca42bdb80b
@token = YOUR_JWT_TOKEN_HERE
@userId = 1f041ae3-e8bb-443a-8790-94abd18d48a5

# ===============================
# AUTHENTICATION
# ===============================

### Login to get token (Use this token for subsequent requests)
# Authenticates an instructor and returns a JWT token for authorization
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
  "email": "instructor@example.com",
  "password": "securePassword123"
}

# ===============================
# INSTRUCTOR MANAGEMENT
# ===============================

### Create Instructor (Admin only)
# Creates a new instructor account with associated user profile
POST {{baseUrl}}/instructors
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "userData": {
    "email": "DuongThanhPhuLearner@example.com",
    "password": "securePassword123",
    "firstName": "Duong",
    "lastName": "Thanh Phu"
  },
  "instructorData": {
    "organization": "FPT University",
    "bio": "Experienced software engineer with 8 years of teaching experience in web development and programming fundamentals",
    "avatar": "https://example.com/avatars/jane-smith.jpg",
    "socials": [
      "https://linkedin.com/in/janesmith",
      "https://github.com/janesmith",
      "https://twitter.com/janesmith"
    ]
  }
}

### Get Instructor Profile
# Returns detailed information about a specific instructor
GET {{baseUrl}}/instructors/{{instructorId}}
Authorization: Bearer {{token}}

### Update Instructor Profile
# Updates an instructor's profile information
PUT {{baseUrl}}/instructors/{{instructorId}}
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "organization": "Updated University",
  "bio": "Updated bio with additional certifications and expertise in machine learning and AI",
  "avatar": "https://example.com/avatars/updated-avatar.jpg",
  "socials": [
    "https://linkedin.com/in/updatedprofile",
    "https://github.com/updatedprofile",
    "https://twitter.com/updatedprofile",
    "https://medium.com/@updatedprofile"
  ]
}

### Get Instructor Statistics
# Returns statistics about an instructor's courses, students, and revenue
GET {{baseUrl}}/instructors/{{instructorId}}/statistics
Authorization: Bearer {{token}}

### Get Instructor Courses
# Returns all courses created by a specific instructor
GET {{baseUrl}}/instructors/{{instructorId}}/courses
Authorization: Bearer {{token}}

### Get Instructor Topics
# Returns all topics created by a specific instructor
GET {{baseUrl}}/instructors/{{instructorId}}/topics
Authorization: Bearer {{token}}

### Get Instructor Revenue
# Returns revenue information for a specific instructor
GET {{baseUrl}}/instructors/{{instructorId}}/revenue
Authorization: Bearer {{token}}

### Get Instructor Students
# Returns all students enrolled in an instructor's courses
GET {{baseUrl}}/instructors/{{instructorId}}/students
Authorization: Bearer {{token}}

### Upload Instructor Avatar
# Uploads a profile image for an instructor
POST {{baseUrl}}/instructors/{{instructorId}}/avatar
Authorization: Bearer {{token}}
Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW

------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="avatar"; filename="instructor-avatar.jpg"
Content-Type: image/jpeg

< ./instructor-avatar.jpg
------WebKitFormBoundary7MA4YWxkTrZu0gW--

### Convert User to Instructor
# Converts an existing user account to an instructor account
POST {{baseUrl}}/admin/users/{{userId}}/convert-to-instructor
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "organization": "New Tech Academy",
  "bio": "Former student now teaching programming fundamentals",
  "avatar": "https://example.com/avatars/new-instructor.jpg",
  "socials": [
    "https://linkedin.com/in/newinstructor",
    "https://github.com/newinstructor"
  ]
}

### Get Instructor Wallet
# Returns wallet information for a specific instructor
GET {{baseUrl}}/instructors/{{instructorId}}/wallet
Authorization: Bearer {{token}}

### Request Withdrawal
# Requests a withdrawal from an instructor's wallet
POST {{baseUrl}}/instructors/{{instructorId}}/wallet/withdraw
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "amount": 500.00,
  "bankDetails": {
    "accountName": "Jane Smith",
    "accountNumber": "1234567890",
    "bankName": "Example Bank",
    "swiftCode": "EXBKUS12"
  }
}

### Get Withdrawal History
# Returns the history of withdrawal requests for an instructor
GET {{baseUrl}}/instructors/{{instructorId}}/wallet/withdrawals
Authorization: Bearer {{token}}
